<!--
    name: {type: String, required:true, unique:true},
    brand: {type: String, required: true},
    catagory: {type: String, required: true},
    image: {type: String, required: true},
    pictures: [{type: String, required: true}],
    picture_descriptions: [{type: String, required: true}],
    page_paragraphs: [{type: String, required: true}],
    date: {type: String, required: true, unique:true},
    rating: {type: String, required: true}
-->

<div ng-controller="submissionCtrl">
    <div class="form-group">
        <div class="col-xs-4">
            <input 
                type="text" 
                class="form-control"
                ng-model="data.blogPostData.name"
                placeholder="Page Title">
            </input>
        </div>
        <div class="col-xs-4">
            <input
                type="text"
                class="form-control"
                ng-model="data.blogPostData.image"
                placeholder="Lens Image">
            </input>
        </div>
        <div class="row">
            <select 
                class="lens_brand" 
                ng-model="data.blogPostData.brand">
                <option ng-repeat="option in data.brandList" value="{{option.id}}">{{option.name}}</option>
            </select>
            <select 
                class="lens_catagory" 
                ng-model="data.blogPostData.catagory">
                <option ng-repeat="option in data.catagoryList" value="{{option.id}}">{{option.name}}</option>
            </select>
            <select 
                class="star_rating_form" 
                ng-model="data.blogPostData.rating">
                <option ng-repeat="option in data.starRatings" value="{{option.id}}">{{option.name}}</option>
            </select>
        </div>
    </div>
    <div class="row">
        <div>
           <button type=button class="btn btn-primary" ng-click="addMoreText()">Add Paragraph</button>
           <button type=button class="btn btn-primary" ng-click="removeMoreText()">Remove Paragraph</button>
           <ul>
                <li ng-repeat="paragraph in data.page_paragraphs track by $index">
                  {{$index}}
                  <input type="text" ng-model="data.page_paragraphs[$index]">
                </li>
           </ul>
        </div>
    </div>
    <div class="row">
        <div class="col-md-4">
            <droplet ng-model="interface">
                <ul class="files">
                    <li ng-repeat="file in interface.getFiles(interface.FILE_TYPES.VALID)">
                        <droplet-preview ng-model="file"></droplet-preview>
                        <div class="delete" ng-click="file.deleteFile()">&times;</div>
                        <div class="size">{{file.file.size / 1024 / 1024 | number: 1}}MB</div>
                    </li>
                </ul>
            </droplet>
        </div>
        <div class="col-md-4">
            <div>
                <div class="form-group">
                    <li ng-repeat="description in interface.getFiles(interface.FILE_TYPES.VALID) track by $index">
                        {{$index}}<textarea class="form-control" rows="3" style="resize:none;" ng-model="data.picture_descriptions[$index]"></textarea>
                    </li>
                </div>
            </div>
        </div>
    </div>
    <button ng-click="interface.uploadFiles(); saveBlogPost()">Save and Submit Blog Post</button>
</div>
